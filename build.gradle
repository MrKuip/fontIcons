
plugins {
  id 'java-library'
  id 'eclipse'
  id 'application'
  id 'org.openjfx.javafxplugin' version '0.1.0'
}

defaultTasks 'fontIconsjar'

apply from: 'build-eclipse.gradle'

repositories {
  mavenCentral()
}

javafx {
    version = "21"
    modules = [ 'javafx.controls' ]
}

dependencies {
  implementation 'com.ibm.icu:icu4j:74.2'
  implementation 'com.ibm.icu:icu4j-charset:74.2'
  implementation 'org.kordamp.ikonli:ikonli-javafx:12.3.1'
  implementation 'org.kordamp.ikonli:ikonli-materialdesign2-pack:12.3.1'
}

task generateFontDictionary(type: JavaExec) {
  main = 'org.kku.fonticons.generate.GenerateTtfDictionaries'
  args "src/main/resources"
  classpath = sourceSets.main.runtimeClasspath
}

                
task fontIconsJar(type: Jar) {
  archiveBaseName = "fontIcons"
  manifest {
    attributes 'Implementation-Title': 'FontIcons (material design)',
               'Implementation-Version': version
  }
  includeEmptyDirs = false
  from sourceSets.main.output
  include "**/fonticons/ui/**/*.class", "**/fonticons/util/**/*.class", "font/**", "**/fonticons/sample/**/*.class", "module-info.class"
}

jar.dependsOn generateFontDictionary
fontIconsJar.dependsOn jar

